{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const BASE_URL = 'https://pixabay.com/api/';\nexport const API_KEY = '46051705-d89a9592eef32bc9448824550';\n\nexport function fetchImages(query) {\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: query, \n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true'\n    });\n    return fetch(`${BASE_URL}?${params.toString()}`) // Добавлен .toString()\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        });\n}","export function renderImages(images) {\n    const gallery = document.querySelector('.gallery');\n    const markup = images.hits.map((image) => { // Используем hits вместо queries\n        return `<li class=\"gallery-query\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                <img class=\"gallery-img\"\n                    src=\"${image.webformatURL}\"\n                    data-source=\"${image.largeImageURL}\"\n                    alt=\"${image.tags}\"\n                    width=\"360\"  onclick=\"return false\">\n                <ul class=\"gallery-descr\">\n                    <li class=\"gallery-item\">\n                        <p class=\"gallery-item-descr\">Likes</p>\n                        <p class=\"gallery-value\">${image.likes}</p>\n                    </li>\n                    <li class=\"gallery-item\">\n                        <p class=\"gallery-item-descr\">Views</p>\n                        <p class=\"gallery-value\">${image.views}</p>\n                    </li>\n                    <li class=\"gallery-item\">\n                        <p class=\"gallery-item-descr\">Comments</p>\n                        <p class=\"gallery-value\">${image.comments}</p>\n                    </li>\n                    <li class=\"gallery-item\">\n                        <p class=\"gallery-item-descr\">Downloads</p>\n                        <p class=\"gallery-value\">${image.downloads}</p>\n                    </li>\n                </ul>\n            </a>\n        </li>`;\n    }).join('');\n    gallery.insertAdjacentHTML('beforeend', markup);\n};\n\nexport function showLoader() {\n    const loader = document.querySelector('.loader');\n    loader.classList.remove('visually-hidden');\n};\n\nexport function hideLoader() {\n    const loader = document.querySelector('.loader');\n    loader.classList.add('visually-hidden');\n};","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { fetchImages } from './js/pixabay-api';\nimport { renderImages, showLoader, hideLoader } from './js/render-functions';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nlet lightbox = null;\n\nform.addEventListener('submit', (event) => {\n    event.preventDefault();\n\n    const inputValue = form.elements.query.value.trim();\n\n    if (inputValue === '') {\n        iziToast.error({\n            title: '',\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n            backgroundColor: '#EF4040',\n            maxWidth: '432px',\n            messageColor: '#fff',\n            iconColor: '#fff'\n        });\n        return;\n    };\n    gallery.innerHTML = '';\n\n    showLoader();\n\n        fetchImages(inputValue)\n        .then(images => {\n            if (images.hits.length === 0) {\n                iziToast.error({\n                    title: '',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                    backgroundColor: '#EF4040',\n                    maxWidth: '432px',\n                    messageColor: '#fff',\n                    iconColor: '#fff'\n                });\n                return;\n            } else {\n                renderImages(images);\n            }\n\n            if (!lightbox) {\n                lightbox = new SimpleLightbox('.gallery a', {\n                    captionsData: 'alt',\n                    captionPosition: 'bottom',\n                    captionDelay: 250,\n                });\n            } else {\n                lightbox.refresh();\n            }\n        })\n        .catch(error => {\n            console.log(error);\n        })\n        .finally(() => {\n            hideLoader();\n            form.reset();\n        });\n});\n\n\n"],"names":["BASE_URL","API_KEY","fetchImages","query","params","response","renderImages","images","gallery","markup","image","showLoader","hideLoader","form","lightbox","event","inputValue","iziToast","SimpleLightbox","error"],"mappings":"6vBAAO,MAAMA,EAAW,2BACXC,EAAU,qCAEhB,SAASC,EAAYC,EAAO,CAC/B,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EACD,OAAO,MAAM,GAAGH,CAAQ,IAAII,EAAO,SAAU,CAAA,EAAE,EAC1C,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,CClBO,SAASC,EAAaC,EAAQ,CACjC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASF,EAAO,KAAK,IAAKG,GACrB;AAAA,4CAC6BA,EAAM,aAAa;AAAA;AAAA,2BAEpCA,EAAM,YAAY;AAAA,mCACVA,EAAM,aAAa;AAAA,2BAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,mDAKcA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,mDAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,mDAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,mDAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,cAK7D,EAAE,KAAK,EAAE,EACVF,EAAQ,mBAAmB,YAAaC,CAAM,CAClD,CAEO,SAASE,GAAa,CACV,SAAS,cAAc,SAAS,EACxC,UAAU,OAAO,iBAAiB,CAC7C,CAEO,SAASC,GAAa,CACV,SAAS,cAAc,SAAS,EACxC,UAAU,IAAI,iBAAiB,CAC1C,CCnCA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCL,EAAU,SAAS,cAAc,UAAU,EACjD,IAAIM,EAAW,KAEfD,EAAK,iBAAiB,SAAWE,GAAU,CACvCA,EAAM,eAAc,EAEpB,MAAMC,EAAaH,EAAK,SAAS,MAAM,MAAM,OAE7C,GAAIG,IAAe,GAAI,CACnBC,EAAS,MAAM,CACX,MAAO,GACP,QAAS,2EACT,SAAU,WACV,gBAAiB,UACjB,SAAU,QACV,aAAc,OACd,UAAW,MACvB,CAAS,EACD,MACR,CACIT,EAAQ,UAAY,GAEpBG,IAEIT,EAAYc,CAAU,EACrB,KAAKT,GAAU,CACZ,GAAIA,EAAO,KAAK,SAAW,EAAG,CAC1BU,EAAS,MAAM,CACX,MAAO,GACP,QAAS,2EACT,SAAU,WACV,gBAAiB,UACjB,SAAU,QACV,aAAc,OACd,UAAW,MAC/B,CAAiB,EACD,MAChB,MACgBX,EAAaC,CAAM,EAGlBO,EAODA,EAAS,QAAO,EANhBA,EAAW,IAAII,EAAe,aAAc,CACxC,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClC,CAAiB,CAIjB,CAAS,EACA,MAAMC,GAAS,CACZ,QAAQ,IAAIA,CAAK,CAC7B,CAAS,EACA,QAAQ,IAAM,CACXP,IACAC,EAAK,MAAK,CACtB,CAAS,CACT,CAAC"}